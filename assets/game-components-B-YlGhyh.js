import{r as k,g as Y}from"./react-vendor-gH-7aFTg.js";var b={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I;function W(){if(I)return A;I=1;var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(o,t,d){var u=null;if(d!==void 0&&(u=""+d),t.key!==void 0&&(u=""+t.key),"key"in t){d={};for(var _ in t)_!=="key"&&(d[_]=t[_])}else d=t;return t=d.ref,{$$typeof:a,type:o,key:u,ref:t!==void 0?t:null,props:d}}return A.Fragment=s,A.jsx=r,A.jsxs=r,A}var O;function B(){return O||(O=1,b.exports=W()),b.exports}var e=B(),f=k();const M=Y(f),$=["Meus pais se juntaram e fizeram uma saita nova que agora ______.","√â nessa loucura de dizer que n√£o te quero, vou negando as apar√™ncias, disfarcando ______.","_______ colocou o Brasil no mapa.","Viver cercado de ______.","O fio que faz a piada do pav√™ √© ______.","O editor das manchetes do Meia-Hora √© ______.","Um cara chamado Jacinto Pinto √© ______.","Mijar pela bunda √© ______.","Ser calvo aos 20 anos √© ______.","Acordar com fortes dores no cu √© ______.","A melhor coisa sobre ter 18 anos √© ______.","Minha av√≥ sempre dizia: '______'.","O que mais me irrita no trabalho √© ______.","Se eu fosse presidente por um dia, eu ______.","A pior desculpa para chegar atrasado √© ______.","O que eu mais escondo dos meus pais √© ______.","A receita secreta da Coca-Cola na verdade √© ______.","O verdadeiro motivo da extin√ß√£o dos dinossauros foi ______.","Se aliens visitassem a Terra, eles ficariam chocados com ______.","A √∫nica coisa pior que acordar cedo √© ______.","Meu maior medo √© ______.","Se eu pudesse voltar no tempo, eu ______.","O que realmente acontece quando voc√™ morre √© ______.","A coisa mais embara√ßosa que j√° fiz foi ______.","Se eu fosse invis√≠vel por um dia, eu ______.","O que eu faria com um milh√£o de reais seria ______.","A verdadeira raz√£o pela qual o Brasil n√£o vai pra frente √© ______.","Se eu pudesse escolher minha morte, seria ______.","O que eu mais gostaria de falar para meu chefe √© ______.","A coisa mais nojenta que j√° comi foi ______.","Se eu pudesse ler mentes, descobriria que ______.","O que realmente acontece no banheiro feminino √© ______.","A profiss√£o mais in√∫til do mundo √© ______.","Se eu pudesse ter um superpoder, seria ______.","A coisa mais rid√≠cula que j√° comprei foi ______.","O que eu faria se soubesse que o mundo ia acabar amanh√£ seria ______.","A verdadeira raz√£o pela qual homens n√£o pedem informa√ß√£o √© ______.","Se eu pudesse conversar com animais, perguntaria ______.","A coisa mais constrangedora que aconteceu comigo no m√©dico foi ______.","Se eu pudesse mudar uma coisa no meu corpo seria ______.","O que eu mais gostaria de esquecer √© ______.","A pior coisa sobre ser adulto √© ______.","Se eu pudesse viver para sempre, eu ______.","O que realmente acontece quando ningu√©m est√° olhando √© ______.","A coisa mais estranha que j√° sonhei foi ______.","Se eu pudesse trocar de vida com algu√©m por um dia, seria ______.","O que eu mais gostaria de dizer para meu ex √© ______.","A verdadeira raz√£o pela qual sempre esque√ßo nomes √© ______.","Se eu pudesse criar uma lei, seria ______.","A coisa mais idiota que j√° acreditei foi ______.","O que eu faria se ganhasse na loteria seria ______.","A verdadeira raz√£o pela qual as pessoas fazem selfie √© ______.","Se eu pudesse deletar algo da internet seria ______.","A coisa mais embara√ßosa no meu hist√≥rico de navega√ß√£o √© ______.","Se eu pudesse falar com meu eu de 10 anos atr√°s, diria ______.","O que realmente pensam sobre mim quando n√£o estou por perto √© ______.","A pior tend√™ncia da moda foi ______.","Se eu pudesse banir uma coisa do mundo seria ______.","A coisa mais estranha que j√° encontrei no meu bolso foi ______.","Se eu pudesse hackear qualquer sistema, escolheria ______.","O que eu mais gostaria de automatizar na minha vida √© ______.","A verdadeira raz√£o pela qual procrastino √© ______.","Se eu pudesse adicionar uma mat√©ria na escola seria ______.","A coisa mais bizarra que j√° vi no transporte p√∫blico foi ______.","Se eu pudesse ter acesso a qualquer informa√ß√£o secreta seria ______.","O que eu mais gostaria de perguntar para um pol√≠tico √© ______.","A verdadeira raz√£o pela qual o Wi-Fi sempre falha quando preciso √© ______.","Se eu pudesse mudar o passado, mudaria ______.","A coisa mais rid√≠cula que j√° fiz por amor foi ______.","Se eu pudesse controlar o clima por um dia, faria ______.","O que eu mais gostaria de confessar √© ______.","A verdadeira utilidade do ap√™ndice humano √© ______.","Se eu pudesse dar um conselho para toda a humanidade seria ______.","A coisa mais in√∫til que aprendi na escola foi ______.","Se eu pudesse reviver um dia da minha vida seria ______.","O que eu mais gostaria de desdizer √© ______.","A verdadeira raz√£o pela qual gatos ronronam √© ______.","Se eu pudesse mudar uma regra social seria ______.","A coisa mais estranha que j√° aconteceu comigo num elevador foi ______.","Se eu pudesse inventar um feriado seria ______.","O que eu mais gostaria de explicar para as gera√ß√µes futuras √© ______.","A verdadeira raz√£o pela qual sempre perco meias na lavanderia √© ______.","Se eu pudesse adicionar um novo sentido ao corpo humano seria ______.","A coisa mais absurda que j√° acreditei quando crian√ßa foi ______.","Se eu pudesse mudar o nome de alguma coisa seria ______.","O que eu mais gostaria de perguntar para Deus √© ______.","A verdadeira raz√£o pela qual sempre esque√ßo onde coloquei as coisas √© ______.","Se eu pudesse criar um aplicativo seria para ______.","A coisa mais constrangedora que j√° aconteceu numa reuni√£o de fam√≠lia foi ______.","Se eu pudesse ter um animal de estima√ß√£o ex√≥tico seria ______.","O que eu mais gostaria de dizer para meu eu do futuro √© ______.","A verdadeira raz√£o pela qual sempre fico preso no tr√¢nsito √© ______.","Se eu pudesse mudar uma coisa na natureza humana seria ______.","A coisa mais rid√≠cula que j√° fiz para impressionar algu√©m foi ______.","Se eu pudesse criar uma nova profiss√£o seria ______.","O que eu mais gostaria de esquecer que existe √© ______."],J=["Um p√™nis gigante","Fazer coc√¥ de p√©","Minha virgindade","Cheirar o pr√≥prio sovaco","Beb√™s","Um anal bem feito","Peidar em elevador lotado","Comer pizza fria","Transar com o ex","Fingir que est√° dormindo","Lamber o prato","Usar calcinha suja","Chorar vendo filme da Xuxa","Dar match no Tinder com a prima","Cagar no banho","Masturbar-se pensando na sogra","Enfiar o dedo no nariz","Soltar pum durante o sexo","Comer lasanha com as m√£os","Fazer xixi no chuveiro","Cheirar a pr√≥pria cueca","Dar uma mijada √©pica","Comer pelo nariz","Transar de meia","Lamber o pr√≥prio cotovelo","Fazer coc√¥ l√≠quido","Cheirar peido dos outros","Comer meleca","Dar aquela estalada no saco","Chorar no banheiro","Mijar na pia","Cheirar o dedo depois de co√ßar","Comer cabelo","Transar com a luz acesa","Fazer strip-tease para o espelho","Lamber o pr√≥prio p√©","Cagar em shopping","Cheirar calcinha usada","Dar uma cusparada marota","Chorar vendo comercial de margarina","Mijar no mato","Cheirar a pr√≥pria bunda","Comer inseto","Transar no primeiro encontro","Fazer sexo oral mal feito","Lamber colher de nutella","Cagar de porta aberta","Cheirar p√© sujo","Dar uma babada","Chorar ouvindo Pablo Vittar","Tr√™s cromossomos","Uma lobotomia","Pelos p√∫bicos","Diarr√©ia explosiva","Um orgasmo m√∫ltiplo","Sexo anal","Fazer xixi na cama","Chupar dedo do p√©","Um feto morto","Pornografia de an√µes","Fazer coc√¥ na rua","Cheirar cueca alheia","Dar o cu","Comer terra","Enfiar o dedo na bunda","Soltar gases t√≥xicos","Chupar chupeta de crian√ßa","Um aborto espont√¢neo","Pornografia incestuosa","Fazer xixi de p√© sendo mulher","Cheirar t√™nis velho","Dar uma sentada","Comer cola","Enfiar cotonete na orelha","Soltar arroto alto","Chupar bico de mamadeira","Uma cirurgia pl√°stica mal feita","Pornografia gospel","Fazer coc√¥ verde","Cheirar papel higi√™nico usado","Dar uma mamada","Comer grama","Enfiar palito no dente","Soltar peido silencioso mas mortal","Chupar chuchu","Um parto prematuro","Pornografia com idosos","Fazer xixi amarelo neon","Cheirar desodorante vencido","Dar uma dedada","Comer papel","Enfiar cotonete no nariz","Soltar gases metanos","Chupar manga com sal","Uma ejacula√ß√£o precoce","Pornografia com animais","Fazer coc√¥ pastoso","Cheirar meia suja","Dar uma chupada","Comer sabonete","Enfiar palito na unha","Soltar pum com cheiro de ovo podre","Chupar pirulito do ch√£o","Uma ere√ß√£o na hora errada","Pornografia bizarra","A menstrua√ß√£o","Pelos no cu","Corrimento vaginal","Esperma de baleia","Uma fimose","Hemorr√≥idas","Fazer xixi em p√∫blico","Cheirar perfume barato","Dar uma ro√ßada","Comer unha","Enfiar canudo no nariz","Soltar peido em igreja","Chupar lim√£o sem a√ß√∫car","Uma vasectomia","Pornografia amadora","Fazer coc√¥ duro","Cheirar sabonete usado","Dar uma apertada","Comer isopor","Enfiar grampo no ouvido","Soltar gases em reuni√£o","Chupar osso de galinha","Uma laqueadura","Pornografia profissional","Fazer xixi espumoso","Cheirar pasta de dente vencida","Dar uma beliscada","Comer algod√£o","Enfiar clipe na pele","Soltar arroto em missa","Chupar caro√ßo de manga","Uma circuncis√£o","Pornografia rom√¢ntica","Fazer coc√¥ com sangue","Cheirar shampoo estragado","Dar uma mordida","Comer borracha","Enfiar linha na gengiva","Soltar peido no cinema","Chupar gelo sujo","Uma histerectomia","Pornografia educativa","Fazer xixi com espuma","Cheirar condicionador azedo","Dar uma lambida","Comer madeira","Enfiar fio dental na orelha","Soltar gases no trabalho","Chupar bala velha","Uma mudan√ßa de sexo","Pornografia cient√≠fica","Fazer coc√¥ l√≠quido amarelo","Cheirar creme rinse estragado","Dar uma sugada","Comer cimento","Enfiar palito de f√≥sforo no dente","Soltar arroto na escola","Chupar doce do ch√£o","Uma opera√ß√£o no saco","Pornografia filos√≥fica","Fazer xixi roxo","Cheirar gel vencido","Dar uma esfregada","Comer tijolo","Enfiar agulha na unha","Soltar peido na academia","Chupar chiclete usado","Uma cirurgia √≠ntima","Pornografia metaf√≠sica","Fazer coc√¥ verde lim√£o","Cheirar mousse estragado","Dar uma raspada","Comer ferro","Enfiar espinho no p√©","Soltar gases no elevador","Chupar sorvete derretido","Uma pl√°stica nos genitais","Pornografia existencial","Fazer xixi verde","Cheirar cera vencida","Dar uma cutucada","Comer vidro","Enfiar farpa na m√£o","Soltar arroto no hospital","Chupar bala azeda","Uma revers√£o de vasectomia","Pornografia minimalista","Fazer coc√¥ marrom escuro","Cheirar pomada estragada","Dar uma agarrada","Comer concreto","Enfiar cisco no olho","Soltar peido na farm√°cia","Chupar pirulito velho","Uma reconstru√ß√£o vaginal","Pornografia maximalista","Fazer xixi laranja","Cheirar lo√ß√£o azeda","Dar uma espremida","Comer cal","Enfiar fiapo no nariz","Soltar gases no supermercado","Chupar doce pegajoso","Uma cirurgia est√©tica √≠ntima","Pornografia impressionista","Fazer coc√¥ preto","Cheirar √≥leo vencido","Dar uma espreitada","Comer argila","Enfiar sujeira na orelha","Soltar arroto no restaurante","Chupar caramelo grudento","Uma mudan√ßa hormonal","Pornografia cubista","Fazer xixi azul","Cheirar sab√£o estragado","Dar uma beliscadinha","Comer gesso","Enfiar p√≥ no nariz","Soltar peido no √¥nibus","Chupar bala derretida","Uma terapia hormonal","Pornografia surrealista","Fazer coc√¥ amarelo","Cheirar detergente vencido","Dar uma coceguinha","Comer massa corrida","Enfiar poeira na boca","Soltar gases no metr√¥","Chupar drops grudento","Uma revers√£o de laqueadura","Pornografia realista","Fazer xixi rosa","Cheirar amaciante azedo","Dar uma piscadinha","Comer tinta","Enfiar felpudo no dente","Soltar arroto no t√°xi","Chupar jujuba velha","Uma cirurgia reconstrutiva","Pornografia abstrata","Fazer coc√¥ cinza","Cheirar √°lcool vencido","Dar uma puxadinha","Comer verniz","Enfiar pelos no nariz","Soltar peido no avi√£o","Chupar gelatina mole","Uma mudan√ßa corporal radical","Pornografia conceitual","Fazer xixi transparente","Cheirar acetona estragada","Dar uma apertadinha","Comer massa de vidraceiro","Enfiar cabelo na garganta","Soltar gases no navio","Chupar pudim mole","Uma transforma√ß√£o gen√©tica","Pornografia dada√≠sta","Fazer coc√¥ branco","Cheirar removedor vencido","Dar uma mordidinha","Comer cola de sapateiro","Enfiar linha na narina","Soltar arroto no trem","Chupar mousse derretido","Uma modifica√ß√£o corporal","Pornografia pop art","Fazer xixi prateado","Cheirar thinner estragado","Dar uma lambidinha","Comer massa de calafetar","Enfiar fio na orelha","Soltar peido no barco","Chupar creme bavette","Uma altera√ß√£o f√≠sica permanente","Pornografia neo-cl√°ssica","Fazer coc√¥ dourado","Cheirar gasolina velha","Dar uma sugadinha","Comer betume","Enfiar barbante no nariz","Soltar gases na balsa","Chupar leite condensado azedo","Uma muta√ß√£o gen√©tica","Pornografia barroca","Fazer xixi dourado","Cheirar querosene vencido","Dar uma chupetinha","Comer piche","Enfiar cord√£o na boca","Soltar arroto na lancha","Chupar mel cristalizado","Uma evolu√ß√£o corporal","Pornografia g√≥tica","Seus pais fazendo sexo","Crian√ßas em uma mina de carv√£o","Uma saia justa constrangedora","Dan√ßar at√© o ch√£o","Fazer um stripper privado","Lamber bolas de golfe","Chupar uma banana seductivamente","Abra√ßar muito forte","Fingir um orgasmo","Gritar como Tarzan","Imitar um porno","Dan√ßar funk","Fazer cara de ahegao","Gemer alto","Rebolar gostoso","Dar uma sentada √©pica","Fazer biquinho","Piscar seductivamente","Rebolado da Anitta","Gemid√£o do WhatsApp"],L=a=>{const s=[...a];for(let r=s.length-1;r>0;r--){const o=Math.floor(Math.random()*(r+1));[s[r],s[o]]=[s[o],s[r]]}return s},V=(a,s=10)=>{const r=L(J),o={};return a.forEach((t,d)=>{const u=d*s,_=u+s;o[t.id]=r.slice(u,_)}),{playerHands:o,remainingCards:r.slice(a.length*s)}},Q=(a=[])=>{const s=$.filter(o=>!a.includes(o));if(s.length===0)return null;const r=Math.floor(Math.random()*s.length);return s[r]};function U(a,s){if(!a||!s)return 0;const r=a.toLowerCase(),o=s.toLowerCase();let t=30;const d=["cu","buceta","pau","merda","porra","caralho","fodendo","bosta","peido","mijando","cagando","b√™bado","drogado","viado","puta","vagabundo"],u=["fazer","comendo","bebendo","dan√ßando","cantando","pulando","correndo","gritando","chorando","rindo"],_=["dildo","garrafa","pepino","banana","melancia","salsicha","lingui√ßa"];let x=0;return d.forEach(i=>{o.includes(i)&&(t+=15,x++)}),u.forEach(i=>{o.includes(i)&&(t+=8)}),_.forEach(i=>{o.includes(i)&&(t+=12)}),o.length>50&&(t+=10),o.length<20&&x>0&&(t+=15),["pessoa","coisa","algo","algu√©m","isso"].forEach(i=>{(o===i||o===`uma ${i}`||o===`um ${i}`)&&(t-=20)}),["primeiro","√∫ltima","melhor","pior","favorito","importante"].some(i=>r.includes(i))&&x>0&&(t+=20),Math.min(100,Math.max(0,t))}function K(a,s){if(!s||s.length===0)return null;const r=s.map(t=>({card:t,score:U(a,t)}));r.sort((t,d)=>d.score-t.score);const o=Math.random();return o<.7||r.length===1?r[0].card:o<.9&&r.length>1?r[1].card:r.length>2?r[2].card:r[0].card}function X(a,s){if(!s||Object.keys(s).length===0)return null;const o=Object.keys(s).map(d=>({playerId:d,score:U(a,s[d])}));o.sort((d,u)=>u.score-d.score);const t=Math.random();return t<.6||o.length===1?o[0].playerId:t<.9&&o.length>1?o[1].playerId:o.length>2?o[2].playerId:o[0].playerId}const G={LOBBY:["Preparados para rir at√© n√£o aguentar mais? üêµ","Vamos ver quem tem as cartas mais sacanas hoje! üÉè","Bora come√ßar logo essa farra, pessoal! üéâ","Preparem-se para combina√ß√µes absolutamente absurdas! üòÇ","Que comece o caos! Adoro esse jogo! üî•"],WAITING_FOR_PLAYERS:["Aguardando os atrasados... Como sempre! ‚è∞","Mais algu√©m vindo ou √© s√≥ a galera raiz mesmo? ü§î","Paci√™ncia, pessoal. J√° come√ßa! ‚åõ","Quem faltar vai perder risadas √©picas! üòÑ"],PLAYING:["Escolham com sabedoria... ou n√£o! üòà","Essa rodada promete ser hil√°ria! ü§£","Algu√©m vai se arrepender dessa escolha... üëÄ","Quero ver quem tem coragem de jogar essa carta! üòè","Pensem r√°pido! O tempo n√£o espera! ‚è±Ô∏è","Essa vai ser boa, eu sinto! üé≠"],ROUND_VOTING:["Hora de escolher o FDP da rodada! üèÜ","Qual combina√ß√£o foi a mais absurda? ü§î","Votem na resposta mais criativa (ou bizarra)! üòÇ","Decis√£o dif√≠cil, hein? Todas s√£o √≥timas! üî•","O FDP vai rir muito quando descobrir quem ganhou! üòà"],ROUND_RESULTS:["E o vencedor √©... ü•Å","Essa combina√ß√£o foi genial! üéâ","Parab√©ns ao mais criativo (ou sem vergonha)! üèÜ","Essa vai entrar para a hist√≥ria! üòÇ","Pr√≥xima rodada vem ainda melhor! üî•"],GAME_OVER:["Que jogo √©pico! Parab√©ns ao campe√£o! üèÜüéâ","Esse foi o melhor jogo que j√° vi! ü§©","O vencedor merece um trof√©u... ou terapia! üòÖ","Obrigado pelas risadas, pessoal! Joguem de novo! üêµ","Jogo finalizado! Quem topa revanche? üîÑ"]};function Z(a){const s=G[a]||G.LOBBY;return s[Math.floor(Math.random()*s.length)]}const S={LOBBY:"LOBBY",WAITING_FOR_PLAYERS:"WAITING_FOR_PLAYERS",PLAYING:"PLAYING",ROUND_VOTING:"ROUND_VOTING",ROUND_RESULTS:"ROUND_RESULTS",GAME_OVER:"GAME_OVER"},ee={maxPlayers:8,minPlayers:3,cardsPerPlayer:10,winningScore:5,roundTimer:120,votingTimer:60,resultsDelaySec:10},H={gameState:S.LOBBY,gameConfig:ee,roomCode:null,isHost:!1,players:[],currentPlayer:null,currentFDP:null,currentQuestionCard:null,usedQuestionCards:[],playerHands:{},remainingAnswerCards:[],submittedAnswers:{},roundWinner:null,answerOrder:[],timeRemaining:null,gameHistory:[],scores:{},selectedCards:[],showResults:!1,error:null,loading:!1,streamMode:!1,kickedMessage:null},n={SET_GAME_CONFIG:"SET_GAME_CONFIG",SET_ROOM_CODE:"SET_ROOM_CODE",SET_IS_HOST:"SET_IS_HOST",SET_GAME_STATE:"SET_GAME_STATE",START_GAME:"START_GAME",ADD_PLAYER:"ADD_PLAYER",REMOVE_PLAYER:"REMOVE_PLAYER",SET_CURRENT_PLAYER:"SET_CURRENT_PLAYER",SET_CURRENT_FDP:"SET_CURRENT_FDP",UPDATE_PLAYER:"UPDATE_PLAYER",DEAL_CARDS:"DEAL_CARDS",SET_QUESTION_CARD:"SET_QUESTION_CARD",SUBMIT_ANSWER:"SUBMIT_ANSWER",SELECT_CARD:"SELECT_CARD",DESELECT_CARD:"DESELECT_CARD",CLEAR_SELECTED_CARDS:"CLEAR_SELECTED_CARDS",SET_ROUND_WINNER:"SET_ROUND_WINNER",NEXT_ROUND:"NEXT_ROUND",SET_TIME_REMAINING:"SET_TIME_REMAINING",SET_ERROR:"SET_ERROR",SET_LOADING:"SET_LOADING",SHOW_RESULTS:"SHOW_RESULTS",HIDE_RESULTS:"HIDE_RESULTS",RESET_GAME:"RESET_GAME",APPLY_SNAPSHOT:"APPLY_SNAPSHOT",SET_STREAM_MODE:"SET_STREAM_MODE",SET_KICKED_MESSAGE:"SET_KICKED_MESSAGE",SET_ANSWER_ORDER:"SET_ANSWER_ORDER"};function ae(a,s){switch(s.type){case n.SET_GAME_CONFIG:return{...a,gameConfig:{...a.gameConfig,...s.payload}};case n.SET_ROOM_CODE:return{...a,roomCode:s.payload};case n.SET_IS_HOST:return{...a,isHost:s.payload};case n.SET_GAME_STATE:{const r=s.payload;if(r===S.PLAYING&&!a.currentFDP&&a.players.length>0){console.warn("SET_GAME_STATE: Tentando entrar em PLAYING sem FDP. Definindo FDP automaticamente.");const o=a.players[0];return{...a,gameState:r,currentFDP:o.id}}return{...a,gameState:r}}case n.ADD_PLAYER:{const r=s.payload;return{...a,players:[...a.players,r],scores:{...a.scores,[r.id]:0}}}case n.REMOVE_PLAYER:{const r=s.payload;return{...a,players:a.players.filter(o=>o.id!==r),scores:Object.fromEntries(Object.entries(a.scores).filter(([o])=>o!==r))}}case n.SET_CURRENT_PLAYER:return{...a,currentPlayer:s.payload};case n.SET_CURRENT_FDP:return{...a,currentFDP:s.payload};case n.UPDATE_PLAYER:{const{playerId:r,updates:o}=s.payload;return{...a,players:a.players.map(t=>t.id===r?{...t,...o}:t)}}case n.DEAL_CARDS:{const{playerHands:r,remainingCards:o}=V(a.players,a.gameConfig.cardsPerPlayer);return{...a,playerHands:r,remainingAnswerCards:o}}case n.SET_QUESTION_CARD:{const r=Q(a.usedQuestionCards);return{...a,currentQuestionCard:r,usedQuestionCards:[...a.usedQuestionCards,r],submittedAnswers:{},roundWinner:null,answerOrder:[]}}case n.SUBMIT_ANSWER:{const{playerId:r,answerCard:o}=s.payload;return{...a,submittedAnswers:{...a.submittedAnswers,[r]:o},playerHands:{...a.playerHands,[r]:(a.playerHands[r]||[]).filter(t=>t!==o)}}}case n.SELECT_CARD:return{...a,selectedCards:[...a.selectedCards,s.payload]};case n.DESELECT_CARD:return{...a,selectedCards:a.selectedCards.filter(r=>r!==s.payload)};case n.CLEAR_SELECTED_CARDS:return{...a,selectedCards:[]};case n.SET_ROUND_WINNER:{const r=s.payload;return{...a,roundWinner:r,scores:{...a.scores,[r]:a.scores[r]+1},gameHistory:[...a.gameHistory,{question:a.currentQuestionCard,answers:a.submittedAnswers,winner:r,timestamp:new Date().toISOString()}]}}case n.NEXT_ROUND:{const r=a.players.filter(h=>h.id!==a.currentFDP),o={...a.playerHands};let t=0;const d=r.filter(h=>a.submittedAnswers[h.id]);if(a.remainingAnswerCards.length<d.length)return console.log("NEXT_ROUND: Cartas insuficientes para continuar. Terminando jogo."),{...a,gameState:S.GAME_OVER};r.forEach(h=>{if(Array.isArray(o[h.id])||(o[h.id]=[]),a.submittedAnswers[h.id]){const c=a.remainingAnswerCards[t];c&&(o[h.id]=[...o[h.id],c],t+=1)}});const _=(a.players.findIndex(h=>h.id===a.currentFDP)+1)%a.players.length,x=a.players[_].id;return console.log("NEXT_ROUND: FDP atual:",a.currentFDP,"Pr√≥ximo FDP:",x,"Jogador:",a.players[_].name),console.log("NEXT_ROUND: Reiniciando rodada com gameState PLAYING"),{...a,gameState:S.PLAYING,playerHands:o,remainingAnswerCards:a.remainingAnswerCards.slice(t),currentFDP:x,submittedAnswers:{},roundWinner:null,selectedCards:[],answerOrder:[],timeRemaining:a.gameConfig.roundTimer}}case n.START_GAME:{const r=L(a.players),o=r[0]?.id;return console.log("START_GAME: Iniciando jogo"),console.log("- Jogadores antes do embaralhamento:",a.players.map(t=>({id:t.id,name:t.name}))),console.log("- Jogadores ap√≥s embaralhamento:",r.map(t=>({id:t.id,name:t.name}))),console.log("- Primeiro FDP escolhido:",o),console.log("- Nome do FDP:",r[0]?.name),o?{...a,gameState:S.PLAYING,players:r,currentFDP:o,answerOrder:[]}:(console.error("ERRO: N√£o foi poss√≠vel escolher FDP - array de jogadores vazio!"),a)}case n.SET_TIME_REMAINING:return{...a,timeRemaining:s.payload};case n.SET_ERROR:return{...a,error:s.payload};case n.SET_LOADING:return{...a,loading:s.payload};case n.SET_STREAM_MODE:return{...a,streamMode:!!s.payload};case n.SET_KICKED_MESSAGE:return{...a,kickedMessage:s.payload||null};case n.SET_ANSWER_ORDER:return{...a,answerOrder:Array.isArray(s.payload)?s.payload:[]};case n.SHOW_RESULTS:return{...a,showResults:!0};case n.HIDE_RESULTS:return{...a,showResults:!1};case n.RESET_GAME:return{...H,currentPlayer:a.currentPlayer};case n.APPLY_SNAPSHOT:{const r=s.payload||{},o=a.currentPlayer,t={...r};t.isHost=a.isHost;const d=Array.isArray(r.players)?r.players:[],u=Array.isArray(a.players)?a.players:[],_=new Map;for(const c of d)_.set(c.id,c);for(const c of u)_.has(c.id)||_.set(c.id,c);t.players=Array.from(_.values());const x={...a.scores||{},...r.scores||{}};for(const c of t.players)x[c.id]===void 0&&(x[c.id]=0);t.scores=x;const h={...a.playerHands||{},...r.playerHands||{}};for(const c of t.players)Array.isArray(h[c.id])||(h[c.id]=[]);return t.playerHands=h,o&&(t.currentPlayer=o),t}default:return a}}const z=f.createContext();function ie({children:a}){const[s,r]=f.useReducer(ae,H),o=f.useRef(s),t=f.useRef(null),d=f.useRef(`client_${Math.random().toString(36).slice(2)}`),u=f.useRef(!1),_=f.useRef(null);f.useEffect(()=>{o.current=s},[s]);const x=M.useCallback(()=>{if(s.isHost)switch(s.gameState){case S.PLAYING:{const i=s.players.filter(j=>j.id!==s.currentFDP&&!s.submittedAnswers[j.id]);i.forEach(j=>{const N=s.playerHands[j.id][0];N&&r({type:n.SUBMIT_ANSWER,payload:{playerId:j.id,answerCard:N}})});const l=[...Array.from(new Set(Object.keys(s.submittedAnswers).concat(i.map(j=>j.id))))].sort(()=>Math.random()-.5);r({type:n.SET_ANSWER_ORDER,payload:l}),r({type:n.SET_GAME_STATE,payload:S.ROUND_VOTING}),s.gameConfig.votingTimer>0&&r({type:n.SET_TIME_REMAINING,payload:s.gameConfig.votingTimer}),setTimeout(()=>c(),0);break}case S.ROUND_VOTING:{const i=Object.keys(s.submittedAnswers);if(i.length>0){const g=i[Math.floor(Math.random()*i.length)];r({type:n.SET_ROUND_WINNER,payload:g}),(s.scores[g]||0)+1>=s.gameConfig.winningScore?(r({type:n.SET_GAME_STATE,payload:S.GAME_OVER}),setTimeout(()=>c(),10)):(r({type:n.SET_GAME_STATE,payload:S.ROUND_RESULTS}),setTimeout(()=>{r({type:n.NEXT_ROUND}),r({type:n.SET_QUESTION_CARD}),r({type:n.SET_GAME_STATE,payload:S.PLAYING}),r({type:n.SET_TIME_REMAINING,payload:s.gameConfig.roundTimer}),setTimeout(()=>c(),10)},(s.gameConfig?.resultsDelaySec??3)*1e3))}break}}},[s.isHost,s.gameState,s.players,s.currentFDP,s.submittedAnswers,s.playerHands,s.gameConfig?.votingTimer,s.gameConfig?.roundTimer,s.gameConfig?.resultsDelaySec]);f.useEffect(()=>{if(s.gameState!==S.PLAYING||!s.isHost)return;s.players.filter(g=>g.isBot&&g.id!==s.currentFDP).forEach(g=>{if(s.submittedAnswers[g.id])return;const l=2e3+Math.random()*6e3;setTimeout(()=>{const j=o.current;if(j.gameState!==S.PLAYING){console.log(`ü§ñ Bot ${g.name} cancelou jogada - jogo n√£o est√° em PLAYING`);return}if(j.submittedAnswers[g.id]){console.log(`ü§ñ Bot ${g.name} cancelou jogada - j√° jogou`);return}const N=j.playerHands[g.id]||[];if(N.length===0){console.log(`ü§ñ Bot ${g.name} n√£o tem cartas na m√£o`);return}const m=K(j.currentQuestionCard,N);m&&(console.log(`ü§ñ Bot ${g.name} escolheu carta:`,m),r({type:n.SUBMIT_ANSWER,payload:{playerId:g.id,answerCard:m}}),h("ANSWER_SUBMITTED",{playerId:g.id,answerCard:m}))},l)})},[s.gameState,s.players,s.currentFDP,s.submittedAnswers,s.isHost,s.playerHands]),f.useEffect(()=>{if(s.gameState!==S.ROUND_VOTING||!s.isHost)return;const i=s.players.find(l=>l.id===s.currentFDP);if(!i||!i.isBot)return;const g=3e3+Math.random()*4e3;setTimeout(()=>{if(o.current.gameState===S.ROUND_VOTING){const l=X(o.current.currentQuestionCard,o.current.submittedAnswers);l&&(console.log(`ü§ñ Bot FDP ${i.name} escolheu vencedor:`,l),r({type:n.SET_ROUND_WINNER,payload:l}),(o.current.scores[l]||0)+1>=o.current.gameConfig.winningScore?(r({type:n.SET_GAME_STATE,payload:S.GAME_OVER}),setTimeout(()=>c(),10)):(r({type:n.SET_GAME_STATE,payload:S.ROUND_RESULTS}),setTimeout(()=>c(),10),setTimeout(()=>{r({type:n.NEXT_ROUND}),r({type:n.SET_QUESTION_CARD}),r({type:n.SET_GAME_STATE,payload:S.PLAYING}),r({type:n.SET_TIME_REMAINING,payload:o.current.gameConfig.roundTimer}),setTimeout(()=>c(),10)},(o.current.gameConfig?.resultsDelaySec??3)*1e3)))}},g)},[s.gameState,s.players,s.currentFDP,s.isHost,s.submittedAnswers]),f.useEffect(()=>{let i;return s.timeRemaining>0?i=setTimeout(()=>{r({type:n.SET_TIME_REMAINING,payload:s.timeRemaining-1})},1e3):s.timeRemaining===0&&x(),()=>clearTimeout(i)},[s.timeRemaining,x]),f.useEffect(()=>{if(s.gameState===S.PLAYING){s.currentFDP||(console.error("INTEGRIDADE: Jogo em andamento sem FDP definido!"),s.isHost&&s.players.length>0&&(console.log("INTEGRIDADE: Host corrigindo - definindo primeiro jogador como FDP"),r({type:n.SET_CURRENT_FDP,payload:s.players[0].id})));const i=s.players.some(g=>g.id===s.currentFDP);s.currentFDP&&!i&&(console.error("INTEGRIDADE: FDP atual n√£o existe na lista de jogadores!"),s.isHost&&s.players.length>0&&(console.log("INTEGRIDADE: Host corrigindo - redefinindo FDP"),r({type:n.SET_CURRENT_FDP,payload:s.players[0].id})))}},[s.gameState,s.currentFDP,s.players,s.isHost]);const h=(i,g)=>{t.current&&t.current.postMessage({type:i,payload:g,sender:d.current,ts:Date.now()})},c=M.useCallback(()=>{u.current||h("STATE_SNAPSHOT",{...o.current})},[]);f.useEffect(()=>{if(s.roomCode&&_.current!==s.roomCode){if(t.current)try{t.current.close()}catch{}const i=`fdp-room-${s.roomCode}`,g=new BroadcastChannel(i);t.current=g,_.current=s.roomCode,g.onmessage=l=>{const j=l.data||{};if(!j||j.sender===d.current)return;const{type:N,payload:m}=j;switch(N){case"PLAYER_JOIN":{o.current.players.some(p=>p.id===m.id)||r({type:n.ADD_PLAYER,payload:m}),o.current.isHost&&setTimeout(()=>c(),50);break}case"PLAYER_LEAVE":{r({type:n.REMOVE_PLAYER,payload:m});const v=o.current.currentPlayer?.id;v&&m===v&&r({type:n.SET_KICKED_MESSAGE,payload:"O host te removeu da sala."}),o.current.isHost&&c();break}case"STATE_SNAPSHOT":{u.current=!0,r({type:n.APPLY_SNAPSHOT,payload:m}),setTimeout(()=>{u.current=!1},0);break}case"ANSWER_SUBMITTED":{const{playerId:v,answerCard:p}=m||{};v&&p&&(r({type:n.SUBMIT_ANSWER,payload:{playerId:v,answerCard:p}}),o.current.isHost&&setTimeout(()=>{const y=o.current;if(y.gameState!==S.PLAYING)return;const T=y.players.filter(w=>w.id!==y.currentFDP).length,D=Object.keys(y.submittedAnswers).length;if(console.log(`üìä Respostas: ${D}/${T} recebidas`),D>=T){console.log("‚úÖ Todas as respostas recebidas! Avan√ßando para vota√ß√£o...");const q=[...Object.keys(y.submittedAnswers)].sort(()=>Math.random()-.5);r({type:n.SET_ANSWER_ORDER,payload:q}),r({type:n.SET_GAME_STATE,payload:S.ROUND_VOTING}),y.gameConfig.votingTimer>0&&r({type:n.SET_TIME_REMAINING,payload:y.gameConfig.votingTimer}),setTimeout(()=>c(),10)}},50));break}case"WINNER_SELECTED":{if(o.current.isHost){const v=m?.winnerId,p=o.current;v&&p.gameState===S.ROUND_VOTING&&(r({type:n.SET_ROUND_WINNER,payload:v}),(p.scores[v]||0)+1>=p.gameConfig.winningScore?(r({type:n.SET_GAME_STATE,payload:S.GAME_OVER}),setTimeout(()=>c(),10)):(r({type:n.SET_GAME_STATE,payload:S.ROUND_RESULTS}),setTimeout(()=>c(),10),setTimeout(()=>{r({type:n.NEXT_ROUND}),r({type:n.SET_QUESTION_CARD}),r({type:n.SET_GAME_STATE,payload:S.PLAYING}),r({type:n.SET_TIME_REMAINING,payload:o.current.gameConfig.roundTimer}),setTimeout(()=>c(),10)},(o.current.gameConfig?.resultsDelaySec??3)*1e3)))}break}case"SNAPSHOT_REQUEST":{o.current.isHost&&c();break}}},o.current.currentPlayer&&h("PLAYER_JOIN",o.current.currentPlayer),o.current.isHost||setTimeout(()=>h("SNAPSHOT_REQUEST",null),50)}return()=>{}},[s.roomCode,s.isHost,c]),f.useEffect(()=>{const i=()=>{if(o.current.currentPlayer)try{h("PLAYER_LEAVE",o.current.currentPlayer.id)}catch{}};return window.addEventListener("beforeunload",i),()=>window.removeEventListener("beforeunload",i)},[]);const E={setGameConfig:i=>{if(!s.isHost){r({type:n.SET_ERROR,payload:"Somente o host pode alterar as configura√ß√µes."});return}r({type:n.SET_GAME_CONFIG,payload:i}),s.isHost&&setTimeout(()=>c(),0)},setRoomCode:i=>{s.roomCode&&!s.isHost||r({type:n.SET_ROOM_CODE,payload:i})},setIsHost:i=>r({type:n.SET_IS_HOST,payload:i}),setGameState:i=>r({type:n.SET_GAME_STATE,payload:i}),addPlayer:i=>{if(console.log("üîß DEBUG addPlayer: Tentando adicionar player:",i),console.log("üîß DEBUG addPlayer: Estado atual players:",s.players.length),i?.isBot&&!s.isHost){r({type:n.SET_ERROR,payload:"Somente o host pode adicionar bots."});return}r({type:n.ADD_PLAYER,payload:i}),h("PLAYER_JOIN",i)},removePlayer:i=>{const g=s.currentPlayer&&s.currentPlayer.id===i;if(!s.isHost&&!g){r({type:n.SET_ERROR,payload:"Somente o host pode remover outros jogadores."});return}r({type:n.REMOVE_PLAYER,payload:i}),h("PLAYER_LEAVE",i)},setCurrentPlayer:i=>r({type:n.SET_CURRENT_PLAYER,payload:i}),updatePlayer:(i,g)=>r({type:n.UPDATE_PLAYER,payload:{playerId:i,updates:g}}),startGame:()=>{if(!s.isHost){r({type:n.SET_ERROR,payload:"Somente o host pode iniciar o jogo."});return}if(s.players.length<s.gameConfig.minPlayers){r({type:n.SET_ERROR,payload:`M√≠nimo de ${s.gameConfig.minPlayers} jogadores necess√°rio.`});return}console.log("====== INICIANDO JOGO ======"),console.log("startGame: Jogadores dispon√≠veis:",s.players.map(i=>({id:i.id,name:i.name}))),console.log("startGame: Total de jogadores:",s.players.length),console.log("startGame: Distribuindo cartas..."),r({type:n.DEAL_CARDS}),console.log("startGame: Iniciando jogo e definindo FDP..."),r({type:n.START_GAME}),console.log("startGame: Definindo carta de pergunta..."),r({type:n.SET_QUESTION_CARD}),console.log("startGame: Iniciando timer..."),r({type:n.SET_TIME_REMAINING,payload:s.gameConfig.roundTimer}),console.log("====== FIM DA INICIALIZA√á√ÉO ======"),setTimeout(()=>{s.isHost&&(console.log("startGame: Enviando snapshot para clientes..."),c())},100)},submitAnswer:i=>{if(s.currentPlayer&&s.currentPlayer.id!==s.currentFDP){if(s.submittedAnswers[s.currentPlayer.id])return;if(r({type:n.SUBMIT_ANSWER,payload:{playerId:s.currentPlayer.id,answerCard:i}}),h("ANSWER_SUBMITTED",{playerId:s.currentPlayer.id,answerCard:i}),s.isHost||setTimeout(()=>h("SNAPSHOT_REQUEST",null),80),s.isHost){const g=s.players.filter(N=>N.id!==s.currentFDP).length,l=Object.keys(s.submittedAnswers).filter(N=>N!==s.currentFDP);if(new Set([...l,s.currentPlayer.id]).size>=g&&s.gameState===S.PLAYING){const m=[...Array.from(new Set([...l,s.currentPlayer.id]))].sort(()=>Math.random()-.5);r({type:n.SET_ANSWER_ORDER,payload:m}),r({type:n.SET_GAME_STATE,payload:S.ROUND_VOTING}),s.gameConfig.votingTimer>0&&r({type:n.SET_TIME_REMAINING,payload:s.gameConfig.votingTimer}),setTimeout(()=>c(),0)}}}},selectWinner:i=>{if(!s.currentPlayer||s.currentPlayer.id!==s.currentFDP)return;if(!s.isHost){h("WINNER_SELECTED",{winnerId:i});return}r({type:n.SET_ROUND_WINNER,payload:i}),(s.scores[i]||0)+1>=s.gameConfig.winningScore?(r({type:n.SET_GAME_STATE,payload:S.GAME_OVER}),setTimeout(()=>c(),10)):(r({type:n.SET_GAME_STATE,payload:S.ROUND_RESULTS}),setTimeout(()=>c(),10),setTimeout(()=>{r({type:n.NEXT_ROUND}),r({type:n.SET_QUESTION_CARD}),r({type:n.SET_GAME_STATE,payload:S.PLAYING}),r({type:n.SET_TIME_REMAINING,payload:s.gameConfig.roundTimer}),setTimeout(()=>c(),10)},(s.gameConfig?.resultsDelaySec??3)*1e3))},selectCard:i=>r({type:n.SELECT_CARD,payload:i}),deselectCard:i=>r({type:n.DESELECT_CARD,payload:i}),clearSelectedCards:()=>r({type:n.CLEAR_SELECTED_CARDS}),startTimer:i=>r({type:n.SET_TIME_REMAINING,payload:i}),stopTimer:()=>r({type:n.SET_TIME_REMAINING,payload:null}),setError:i=>r({type:n.SET_ERROR,payload:i}),setLoading:i=>r({type:n.SET_LOADING,payload:i}),setStreamMode:i=>{if(!s.isHost){r({type:n.SET_ERROR,payload:"Somente o host pode alterar a visibilidade do c√≥digo da sala."});return}r({type:n.SET_STREAM_MODE,payload:i}),s.isHost&&setTimeout(()=>c(),0)},showResults:()=>r({type:n.SHOW_RESULTS}),hideResults:()=>r({type:n.HIDE_RESULTS}),setKickedMessage:i=>r({type:n.SET_KICKED_MESSAGE,payload:i}),resetGame:()=>{r({type:n.RESET_GAME}),s.isHost&&setTimeout(()=>c(),0)}};return e.jsx(z.Provider,{value:{state:s,actions:E,GAME_STATES:S},children:a})}function C(){const a=f.useContext(z);if(!a)throw new Error("useGame deve ser usado dentro de um GameProvider");return a}function P({size:a=96,variant:s="inline",floating:r=!0,glow:o=!0,speech:t,ariaLabel:d="Mascote do jogo",className:u=""}){const _=typeof a=="number"?`${a}px`:a;return e.jsxs("div",{className:`mascot ${s==="hero"?"mascot--hero":"mascot--inline"} ${r?"is-floating":""} ${o?"has-glow":""} ${u}`,style:{"--mascot-size":_},role:"img","aria-label":d,children:[e.jsx("div",{className:"mascot-ring","aria-hidden":"true"}),e.jsx("img",{className:"mascot-img",src:"/mascot_monkey.svg",alt:"",loading:"lazy"}),t&&e.jsx("div",{className:"mascot-speech","aria-hidden":"true",children:t})]})}function F({onJoinRoom:a,onBack:s}){const{actions:r}=C(),[o,t]=f.useState([]),[d,u]=f.useState(""),[_,x]=f.useState(!1),[h,c]=f.useState(!1),E=async()=>{c(!0),await new Promise(v=>setTimeout(v,1e3));const m=[{id:"pub_001",name:"Sala dos Amigos",host:"Jo√£o123",players:4,maxPlayers:8,status:"WAITING_FOR_PLAYERS",isPrivate:!1,created:new Date(Date.now()-600*1e3),gameConfig:{winningScore:5,roundTimer:120}},{id:"pub_002",name:"FDP Hardcore",host:"ProPlayer",players:6,maxPlayers:8,status:"PLAYING",isPrivate:!1,created:new Date(Date.now()-1500*1e3),gameConfig:{winningScore:7,roundTimer:90}},{id:"pub_003",name:"Divers√£o Garantida üòÇ",host:"Engra√ßado",players:2,maxPlayers:6,status:"WAITING_FOR_PLAYERS",isPrivate:!1,created:new Date(Date.now()-300*1e3),gameConfig:{winningScore:5,roundTimer:120}},{id:"pub_004",name:"S√≥ os Brabo",host:"MasterFDP",players:7,maxPlayers:8,status:"WAITING_FOR_PLAYERS",isPrivate:!1,created:new Date(Date.now()-180*1e3),gameConfig:{winningScore:10,roundTimer:60}},{id:"pub_005",name:"Iniciantes Bem-vindos",host:"Helper",players:1,maxPlayers:4,status:"WAITING_FOR_PLAYERS",isPrivate:!1,created:new Date(Date.now()-60*1e3),gameConfig:{winningScore:3,roundTimer:180}}];t(m),c(!1)};f.useEffect(()=>{E()},[]);const i=o.filter(m=>m.name.toLowerCase().includes(d.toLowerCase())||m.host.toLowerCase().includes(d.toLowerCase())),g=async m=>{if(m.players>=m.maxPlayers){r.setError("Sala lotada!");return}if(m.status==="PLAYING"){r.setError("Jogo j√° em andamento!");return}x(!0);try{await new Promise(v=>setTimeout(v,1500)),a(m.id,m.name)}catch(v){console.error("Erro ao entrar na sala:",v),r.setError("Erro ao entrar na sala")}finally{x(!1)}},l=m=>{switch(m){case"WAITING_FOR_PLAYERS":return"‚è≥";case"PLAYING":return"üéÆ";default:return"‚ùì"}},j=m=>{switch(m){case"WAITING_FOR_PLAYERS":return"Aguardando";case"PLAYING":return"Jogando";default:return"Desconhecido"}},N=m=>{const v=Math.floor((Date.now()-m.getTime())/6e4);if(v<1)return"Agora";if(v===1)return"1 min";if(v<60)return`${v} min`;const p=Math.floor(v/60);return p===1?"1 hora":`${p} horas`};return e.jsxs("div",{className:"public-rooms",children:[e.jsxs("div",{className:"public-rooms-header",children:[e.jsxs("button",{className:"back-btn",onClick:s,children:[e.jsx("span",{children:"‚Üê"})," Voltar"]}),e.jsx("h2",{children:"üåç Salas P√∫blicas"}),e.jsxs("button",{className:`refresh-btn ${h?"loading":""}`,onClick:E,disabled:h,children:["üîÑ ",h?"Atualizando...":"Atualizar"]})]}),e.jsx("div",{className:"search-section",children:e.jsxs("div",{className:"search-box",children:[e.jsx("span",{className:"search-icon",children:"üîç"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome da sala ou host...",value:d,onChange:m=>u(m.target.value),className:"search-input"}),d&&e.jsx("button",{className:"clear-search",onClick:()=>u(""),children:"‚úï"})]})}),e.jsxs("div",{className:"rooms-list",children:[_&&e.jsxs("div",{className:"loading-overlay",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Entrando na sala..."})]}),i.length===0&&!h&&e.jsxs("div",{className:"no-rooms",children:[e.jsx("span",{className:"no-rooms-icon",children:"üòî"}),e.jsx("h3",{children:"Nenhuma sala encontrada"}),e.jsx("p",{children:d?"Tente buscar por outros termos ou limpe a busca":"N√£o h√° salas p√∫blicas dispon√≠veis no momento"}),e.jsx("button",{className:"btn btn-primary",onClick:E,children:"üîÑ Tentar novamente"})]}),i.map(m=>e.jsxs("div",{className:"room-card",children:[e.jsxs("div",{className:"room-info",children:[e.jsxs("div",{className:"room-header",children:[e.jsx("h3",{className:"room-name",children:m.name}),e.jsxs("div",{className:"room-status",children:[e.jsx("span",{className:"status-icon",children:l(m.status)}),e.jsx("span",{className:"status-text",children:j(m.status)})]})]}),e.jsxs("div",{className:"room-details",children:[e.jsxs("div",{className:"room-host",children:[e.jsx("span",{className:"detail-icon",children:"üëë"}),e.jsxs("span",{children:["Host: ",e.jsx("strong",{children:m.host})]})]}),e.jsxs("div",{className:"room-players",children:[e.jsx("span",{className:"detail-icon",children:"üë•"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[m.players,"/",m.maxPlayers]})," jogadores"]})]}),e.jsxs("div",{className:"room-config",children:[e.jsx("span",{className:"detail-icon",children:"üéØ"}),e.jsxs("span",{children:[m.gameConfig.winningScore," pontos para vencer"]})]}),e.jsxs("div",{className:"room-timer",children:[e.jsx("span",{className:"detail-icon",children:"‚è±Ô∏è"}),e.jsxs("span",{children:[m.gameConfig.roundTimer,"s por rodada"]})]})]}),e.jsx("div",{className:"room-meta",children:e.jsxs("span",{className:"room-age",children:["Criada h√° ",N(m.created)]})})]}),e.jsx("div",{className:"room-actions",children:e.jsx("button",{className:`join-btn ${m.players>=m.maxPlayers?"full":m.status==="PLAYING"?"playing":"available"}`,onClick:()=>g(m),disabled:m.players>=m.maxPlayers||m.status==="PLAYING"||_,children:m.players>=m.maxPlayers?e.jsx(e.Fragment,{children:"üö´ Lotada"}):m.status==="PLAYING"?e.jsx(e.Fragment,{children:"üéÆ Jogando"}):e.jsx(e.Fragment,{children:"üöÄ Entrar"})})})]},m.id))]})]})}function te(){const{state:a,actions:s,GAME_STATES:r}=C(),[o,t]=f.useState(""),[d,u]=f.useState(""),[_,x]=f.useState(!1),h=f.useCallback(()=>{if(a.error){const l=setTimeout(()=>{s.setError(null)},5e3);return()=>clearTimeout(l)}},[a.error,s]);if(f.useEffect(()=>{if(_)return e.jsx(F,{onJoinRoom:i,onBack:()=>x(!1)})},[a.error,h]),_)return e.jsx(F,{onJoinRoom:i,onBack:()=>x(!1)});const c=()=>Math.random().toString(36).substring(2,8).toUpperCase(),E=(l=!1)=>{if(!o.trim()){s.setError("Digite seu nome antes de criar a sala!");return}const j=c(),N={id:`player_${Date.now()}`,name:o.trim(),isHost:!0,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(o)}&background=random`};s.setIsHost(!0),s.setCurrentPlayer(N),s.setRoomCode(j),s.addPlayer(N),s.setGameState(r.WAITING_FOR_PLAYERS),s.setError(null),l&&console.log("Criando sala p√∫blica:",j)},i=(l,j)=>{if(!o.trim()){s.setError("Digite seu nome primeiro!"),x(!1);return}const N={id:`player_${Date.now()}`,name:o.trim(),isHost:!1,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(o)}&background=random`};s.setIsHost(!1),s.setCurrentPlayer(N),s.addPlayer(N),s.setRoomCode(l),s.setGameState(r.WAITING_FOR_PLAYERS),s.setError(null),console.log(`Entrando na sala p√∫blica: ${j} (${l})`)},g=()=>{if(!o.trim()){s.setError("Digite seu nome para entrar na sala!");return}if(!d.trim()){s.setError("Digite o c√≥digo da sala!");return}const l={id:`player_${Date.now()}`,name:o.trim(),isHost:!1,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(o)}&background=random`};s.setIsHost(!1),s.setCurrentPlayer(l),s.setRoomCode(d.trim()),s.addPlayer(l),s.setGameState(r.WAITING_FOR_PLAYERS),s.setError(null)};return e.jsx("div",{className:"lobby",children:e.jsxs("div",{className:"lobby-container",children:[e.jsx("div",{className:"lobby-header-compact",children:e.jsxs("div",{className:"brand-section",children:[e.jsx(P,{variant:"hero",size:80,className:"mascot-hero"}),e.jsx("div",{className:"brand-text",children:e.jsxs("h1",{className:"game-title-compact",children:[e.jsx("span",{className:"title-main",children:"Foi De Prop√≥sito"}),e.jsx("span",{className:"title-subtitle",children:"O jogo mais FDP que existe!"})]})})]})}),e.jsxs("div",{className:"lobby-two-columns",children:[e.jsx("div",{className:"left-column",children:e.jsxs("div",{className:"actions-section",children:[e.jsx("h2",{children:"üéÆ Come√ßar a Jogar"}),e.jsxs("div",{className:"name-form-compact",children:[e.jsx("label",{children:"Seu nome no jogo:"}),e.jsxs("div",{className:"input-group-compact",children:[e.jsx("input",{type:"text",placeholder:"Digite seu nome...",value:o,onChange:l=>t(l.target.value),onKeyPress:l=>l.key==="Enter"&&E(),maxLength:20,className:"name-input-compact"}),o&&e.jsx("div",{className:"avatar-preview-compact",children:e.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(o)}&background=random`,alt:"Avatar",className:"avatar-compact"})})]})]}),e.jsxs("div",{className:"game-options",children:[e.jsxs("div",{className:"option-card",children:[e.jsxs("div",{className:"option-header",children:[e.jsx("span",{className:"option-icon",children:"üéÆ"}),e.jsx("h3",{children:"Criar Nova Sala"})]}),e.jsx("p",{children:"Crie uma sala e convide seus amigos!"}),e.jsxs("div",{className:"option-buttons",children:[e.jsx("button",{className:"btn btn-create-private btn-full",onClick:()=>E(!1),disabled:!o.trim(),children:"üîí Sala Privada"}),e.jsx("button",{className:"btn btn-create-public btn-full",onClick:()=>E(!0),disabled:!o.trim(),children:"üåç Sala P√∫blica"})]})]}),e.jsxs("div",{className:"option-card",children:[e.jsxs("div",{className:"option-header",children:[e.jsx("span",{className:"option-icon",children:"üö™"}),e.jsx("h3",{children:"Entrar por C√≥digo"})]}),e.jsx("p",{children:"Tem um c√≥digo de sala? Cole aqui!"}),e.jsxs("div",{className:"join-form",children:[e.jsx("input",{type:"text",placeholder:"C√≥digo da sala (ex: ABC123)",value:d,onChange:l=>u(l.target.value.toUpperCase()),onKeyPress:l=>l.key==="Enter"&&g(),maxLength:10,className:"code-input"}),e.jsx("button",{className:"btn btn-join-code btn-full",onClick:g,disabled:!o.trim()||!d.trim(),children:"Entrar na Sala"})]})]}),e.jsxs("div",{className:"option-card",children:[e.jsxs("div",{className:"option-header",children:[e.jsx("span",{className:"option-icon",children:"üåç"}),e.jsx("h3",{children:"Salas P√∫blicas"})]}),e.jsx("p",{children:"Descubra salas abertas para todos!"}),e.jsx("button",{className:"btn btn-public-rooms btn-full",onClick:()=>x(!0),disabled:!o.trim(),children:"Explorar Salas P√∫blicas"})]})]}),a.error&&e.jsxs("div",{className:"error-message",children:["‚ùå ",a.error]})]})}),e.jsx("div",{className:"right-column",children:e.jsxs("div",{className:"info-section",children:[e.jsxs("div",{className:"about-game",children:[e.jsx("h2",{children:"üé≠ Sobre o Jogo"}),e.jsx("p",{className:"game-description-compact",children:"Prepare-se para muitas risadas, absurdos e momentos inesquec√≠veis! Complete as frases da maneira mais escrota poss√≠vel e conquiste pontos fazendo todo mundo rir!"})]}),e.jsxs("div",{className:"rules-compact",children:[e.jsx("h3",{children:"üéØ Como Jogar"}),e.jsxs("div",{className:"rules-list",children:[e.jsxs("div",{className:"rule-item-compact",children:[e.jsx("span",{className:"rule-number",children:"1"}),e.jsxs("div",{className:"rule-text",children:[e.jsx("strong",{children:"Distribui√ß√£o:"})," Cada jogador recebe 10 cartas de resposta"]})]}),e.jsxs("div",{className:"rule-item-compact",children:[e.jsx("span",{className:"rule-number",children:"2"}),e.jsxs("div",{className:"rule-text",children:[e.jsx("strong",{children:"Pergunta:"})," O FDP da vez l√™ uma carta de pergunta"]})]}),e.jsxs("div",{className:"rule-item-compact",children:[e.jsx("span",{className:"rule-number",children:"3"}),e.jsxs("div",{className:"rule-text",children:[e.jsx("strong",{children:"Resposta:"})," Todos escolhem a carta mais engra√ßada"]})]}),e.jsxs("div",{className:"rule-item-compact",children:[e.jsx("span",{className:"rule-number",children:"4"}),e.jsxs("div",{className:"rule-text",children:[e.jsx("strong",{children:"Vota√ß√£o:"})," O FDP escolhe a melhor resposta (1 ponto)"]})]}),e.jsxs("div",{className:"rule-item-compact",children:[e.jsx("span",{className:"rule-number",children:"5"}),e.jsxs("div",{className:"rule-text",children:[e.jsx("strong",{children:"Vit√≥ria:"})," Primeiro a fazer 5 pontos ganha!"]})]})]})]}),e.jsxs("div",{className:"tips-section",children:[e.jsx("h3",{children:"üí° Dicas"}),e.jsxs("ul",{className:"tips-list",children:[e.jsx("li",{children:"üé≠ Seja criativo e pense fora da caixa"}),e.jsx("li",{children:"üòÇ Quanto mais absurdo, melhor!"}),e.jsx("li",{children:"üéØ Conhe√ßa o humor do seu grupo"}),e.jsx("li",{children:"‚ö° Seja r√°pido nas escolhas"}),e.jsx("li",{children:"üèÜ Divirta-se, ganhar √© secund√°rio!"})]})]}),e.jsx("div",{className:"warning-section",children:e.jsxs("div",{className:"warning-card",children:[e.jsx("span",{className:"warning-icon",children:"‚ö†Ô∏è"}),e.jsxs("div",{className:"warning-text",children:[e.jsx("strong",{children:"Conte√∫do Adulto"}),e.jsx("p",{children:"Este jogo cont√©m humor √°cido e politicamente incorreto. Recomendado apenas para maiores de 18 anos."})]})]})})]})})]}),e.jsx("div",{className:"lobby-footer-compact",children:e.jsx("p",{children:"Vers√£o Web ‚Ä¢ Baseado no jogo original Foi De Prop√≥sito"})})]})})}function ce(){const{state:a,actions:s,GAME_STATES:r}=C(),[o,t]=f.useState(a.gameConfig),[d,u]=f.useState(!1),[_,x]=f.useState(!1);f.useEffect(()=>{a.players.length===0&&a.currentPlayer&&a.isHost&&s.addPlayer(a.currentPlayer)},[a.players.length,a.currentPlayer,a.isHost,s]),f.useEffect(()=>{a.isHost&&x(!!a.streamMode)},[a.streamMode,a.isHost]);const h=()=>{if(a.players.length<a.gameConfig.minPlayers){s.setError(`M√≠nimo de ${a.gameConfig.minPlayers} jogadores necess√°rios!`);return}s.startGame()},c=()=>{s.resetGame()},E=(l,j)=>{const N={...o,[l]:j};t(N)},i=()=>{s.setGameConfig(o),u(!1),s.setError(null)},g=()=>{a.isHost&&navigator.clipboard.writeText(a.roomCode).then(()=>{const l=document.querySelector(".copy-button");l.textContent="‚úì Copiado!",setTimeout(()=>{l.textContent="üìã Copiar"},2e3)})};return e.jsx("div",{className:"waiting-room",children:e.jsxs("div",{className:"waiting-room-container",children:[e.jsxs("div",{className:"room-header",children:[e.jsxs("div",{className:"room-title-wrap",children:[e.jsx(P,{variant:"inline",size:42,className:"mascot-inline"}),e.jsx("h1",{className:"room-title",children:"Sala de Espera"})]}),e.jsxs("div",{className:"room-info",children:[e.jsxs("div",{className:"room-code-display",children:[e.jsx("span",{className:"room-code-label",children:"C√≥digo da Sala:"}),e.jsx("span",{className:`room-code ${a.streamMode&&(!a.isHost||_)?"blurred":""}`,title:a.streamMode?a.isHost?_?"Stream Mode ativo: c√≥digo oculto para voc√™ e para os outros jogadores":"Stream Mode ativo: c√≥digo vis√≠vel para voc√™ e oculto para os outros":"Stream Mode: c√≥digo oculto pelo host":"C√≥digo da sala",children:a.roomCode}),a.isHost?e.jsx("button",{className:"copy-button",onClick:g,disabled:!a.roomCode,children:"üìã Copiar"}):e.jsx("button",{className:"copy-button",disabled:!0,title:"Somente o host pode copiar",children:"üìã Copiar"}),a.isHost&&e.jsx("button",{className:"toggle-stream-btn",onClick:()=>s.setStreamMode(!a.streamMode),title:a.streamMode?"Desativar Stream Mode (mostrar c√≥digo)":"Ativar Stream Mode (ocultar c√≥digo)","aria-pressed":a.streamMode,children:a.streamMode?"üôà":"üëÅÔ∏è"}),a.isHost&&a.streamMode&&e.jsx("button",{className:"toggle-stream-btn",onClick:()=>x(!_),title:_?"Mostrar c√≥digo para mim":"Ocultar c√≥digo para mim tamb√©m","aria-pressed":_,children:_?"üëÅÔ∏è‚Äçüó®Ô∏è":"üôä"})]}),e.jsxs("div",{className:"player-count",children:[a.players.length,"/",a.gameConfig.maxPlayers," jogadores"]})]}),a.streamMode&&e.jsxs("div",{className:"stream-mode-badge",title:a.isHost?"Stream Mode ativo: o c√≥digo est√° vis√≠vel para voc√™ e oculto para os demais jogadores.":"Stream Mode ativo: o host ocultou o c√≥digo da sala.","aria-label":"Stream Mode ativo",children:[e.jsx("span",{className:"badge-icon","aria-hidden":!0,children:"üôà"}),a.isHost?"Stream Mode ativo":"C√≥digo oculto pelo host"]})]}),e.jsxs("div",{className:"players-section",children:[e.jsx("h2",{children:"Jogadores na Sala"}),e.jsxs("div",{className:"players-grid",children:[a.players.map(l=>e.jsxs("div",{className:`player-card ${l.isHost?"host":""} ${l.id===a.currentPlayer?.id?"current":""}`,children:[e.jsxs("div",{className:"player-avatar",children:[e.jsx("img",{src:l.avatar,alt:l.name}),l.isHost&&e.jsx("span",{className:"host-crown",children:"üëë"}),l.isBot&&e.jsx("span",{className:"bot-badge",children:"ü§ñ"})]}),e.jsxs("div",{className:"player-info",children:[e.jsx("div",{className:"player-name",children:l.name}),e.jsx("div",{className:"player-status",children:l.isHost?"Host":l.isBot?"Bot":"Jogador"})]}),a.isHost&&!l.isHost&&e.jsx("button",{className:"remove-player-btn",onClick:()=>s.removePlayer(l.id),children:"‚úï"})]},l.id)),Array.from({length:a.gameConfig.maxPlayers-a.players.length},(l,j)=>e.jsx("div",{className:"player-card empty",children:e.jsxs("div",{className:"empty-slot",children:[e.jsx("span",{className:"empty-icon",children:"üë§"}),e.jsx("span",{className:"empty-text",children:"Aguardando..."})]})},`empty-${j}`))]})]}),e.jsxs("div",{className:"sidebar",children:[e.jsxs("div",{className:"action-buttons",children:[a.isHost?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary btn-large",onClick:h,disabled:a.players.length<a.gameConfig.minPlayers,children:["üéÆ Iniciar Jogo (",a.players.length,"/",a.gameConfig.minPlayers," min)"]}),!1]}):e.jsxs("div",{className:"waiting-message",children:[e.jsx("span",{className:"waiting-icon",children:"‚è≥"}),"Aguardando o host iniciar o jogo..."]}),e.jsx("button",{className:"btn btn-ghost",onClick:c,children:"üö™ Sair da Sala"}),a.isHost&&e.jsxs("div",{className:"config-section",children:[e.jsx("button",{className:"config-toggle-btn",onClick:()=>u(!d),children:"‚öôÔ∏è Configura√ß√µes do Jogo"}),d&&e.jsxs("div",{className:"config-panel",children:[e.jsxs("div",{className:"config-grid",children:[e.jsxs("div",{className:"config-item",children:[e.jsx("label",{children:"Cartas por Jogador:"}),e.jsxs("select",{value:o.cardsPerPlayer,onChange:l=>E("cardsPerPlayer",parseInt(l.target.value)),children:[e.jsx("option",{value:7,children:"7 cartas (Dif√≠cil)"}),e.jsx("option",{value:10,children:"10 cartas (Normal)"}),e.jsx("option",{value:12,children:"12 cartas (F√°cil)"})]})]}),e.jsxs("div",{className:"config-item",children:[e.jsx("label",{children:"Pontos para Vencer:"}),e.jsxs("select",{value:o.winningScore,onChange:l=>E("winningScore",parseInt(l.target.value)),children:[e.jsx("option",{value:3,children:"3 pontos (R√°pido)"}),e.jsx("option",{value:5,children:"5 pontos (Normal)"}),e.jsx("option",{value:7,children:"7 pontos (Longo)"})]})]}),e.jsxs("div",{className:"config-item",children:[e.jsx("label",{children:"Tempo por Rodada:"}),e.jsxs("select",{value:o.roundTimer,onChange:l=>E("roundTimer",parseInt(l.target.value)),children:[e.jsx("option",{value:60,children:"1 minuto"}),e.jsx("option",{value:120,children:"2 minutos"}),e.jsx("option",{value:180,children:"3 minutos"}),e.jsx("option",{value:0,children:"Sem limite"})]})]}),e.jsxs("div",{className:"config-item",children:[e.jsx("label",{children:"M√°ximo de Jogadores:"}),e.jsxs("select",{value:o.maxPlayers,onChange:l=>E("maxPlayers",parseInt(l.target.value)),children:[e.jsx("option",{value:4,children:"4 jogadores"}),e.jsx("option",{value:6,children:"6 jogadores"}),e.jsx("option",{value:8,children:"8 jogadores"}),e.jsx("option",{value:10,children:"10 jogadores"})]})]})]}),e.jsxs("div",{className:"config-buttons",children:[e.jsx("button",{className:"btn btn-primary",onClick:i,children:"Salvar Configura√ß√µes"}),e.jsx("button",{className:"btn btn-ghost",onClick:()=>u(!1),children:"Cancelar"})]})]})]})]}),e.jsxs("div",{className:"rules-section",children:[e.jsx("h3",{children:"Regras R√°pidas"}),e.jsxs("div",{className:"rules-list",children:[e.jsxs("p",{children:["‚Ä¢ Cada jogador recebe ",o.cardsPerPlayer," cartas de resposta"]}),e.jsx("p",{children:"‚Ä¢ O FDP da vez l√™ uma pergunta preta"}),e.jsx("p",{children:"‚Ä¢ Todos os outros jogadores escolhem uma carta branca"}),e.jsx("p",{children:"‚Ä¢ O FDP escolhe a resposta mais engra√ßada/absurda"}),e.jsxs("p",{children:["‚Ä¢ Primeiro a fazer ",o.winningScore," pontos vence!"]}),e.jsx("p",{children:"‚Ä¢ Conte√∫do adulto - jogadores devem ter +18 anos"})]})]})]}),a.error&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{className:"error-icon",children:"‚ö†Ô∏è"}),a.error,e.jsx("button",{className:"error-close",onClick:()=>s.setError(null),children:"√ó"})]}),a.kickedMessage&&e.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"kicked-title",children:e.jsxs("div",{className:"modal-card",children:[e.jsx("h3",{id:"kicked-title",className:"modal-title",children:"Voc√™ foi removido"}),e.jsx("p",{className:"modal-text",children:a.kickedMessage}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>{s.setKickedMessage(null),s.setGameState(r.LOBBY),s.resetGame()},children:"OK"})})]})})]})})}function se({selectedCard:a,onCardSelect:s}){const{state:r}=C(),o=r.playerHands[r.currentPlayer?.id]||[],t=d=>{s(a===d?null:d)};return o.length===0?e.jsx("div",{className:"player-hand",children:e.jsx("div",{className:"no-cards",children:e.jsx("p",{children:"Carregando suas cartas..."})})}):e.jsxs("div",{className:"player-hand",children:[e.jsxs("div",{className:"hand-header",children:[e.jsx("h3",{children:a?e.jsxs(e.Fragment,{children:["‚úì Carta Selecionada (",o.length-1," restantes)"]}):e.jsxs(e.Fragment,{children:["üéØ Suas Cartas (",o.length,")"]})}),e.jsx("p",{children:a?"Carta escolhida! Confirme sua jogada abaixo üëá":"Clique em uma carta para selecion√°-la"})]}),e.jsx("div",{className:"cards-container",children:e.jsx("div",{className:"cards-grid",children:o.map((d,u)=>e.jsx("div",{className:`answer-card ${a===d?"selected":""}`,onClick:()=>t(d),children:e.jsxs("div",{className:"card-content",children:[e.jsx("div",{className:"card-text",children:d}),a===d&&e.jsx("div",{className:"selection-indicator",children:e.jsx("span",{className:"check-icon",children:"‚úì"})})]})},`${d}-${u}`))})})]})}function re({question:a,answers:s,onSelectWinner:r,canVote:o,currentPlayer:t,order:d}){const u=Object.entries(s),_=d&&Array.isArray(d)&&d.length?d.filter(c=>s[c]!==void 0).map(c=>[c,s[c]]):u.sort((c,E)=>c[0].localeCompare(E[0])),x=(c,E)=>c.replace("______",`**${E}**`),h=c=>{o&&r(c)};return e.jsxs("div",{className:"submitted-answers",children:[e.jsxs("div",{className:"answers-header",children:[e.jsx("h3",{children:o?"üëë Escolha a melhor resposta clicando nela:":"üó≥Ô∏è Respostas submetidas:"}),e.jsx("p",{className:"voting-instruction",children:o?"Como FDP desta rodada, voc√™ decide qual resposta ganha!":"Aguarde o FDP escolher a melhor resposta..."})]}),e.jsx("div",{className:"answers-grid",children:_.map(([c,E],i)=>{const g=c===t?.id;return e.jsxs("div",{className:`answer-option ${o?"votable":""} ${g?"own-answer":""}`,onClick:()=>h(c),children:[e.jsx("div",{className:"answer-number",children:i+1}),e.jsxs("div",{className:"answer-content",children:[e.jsx("div",{className:"complete-sentence",children:x(a,E)}),e.jsxs("div",{className:"answer-highlight",children:[e.jsx("span",{className:"answer-label",children:"Resposta:"}),e.jsx("span",{className:"answer-text",children:E})]})]}),o&&e.jsxs("div",{className:"vote-indicator",children:[e.jsx("span",{className:"vote-icon",children:"üëÜ"}),e.jsx("span",{className:"vote-text",children:"Votar"})]}),g&&e.jsx("div",{className:"own-answer-badge",children:e.jsx("span",{children:"Sua resposta"})})]},c)})}),!o&&e.jsxs("div",{className:"waiting-for-vote",children:[e.jsx("div",{className:"waiting-animation",children:e.jsxs("span",{className:"waiting-dots",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}),e.jsx("p",{children:"‚è≥ Aguardando a decis√£o do FDP..."})]})]})}function oe(){const{state:a}=C();if(a.timeRemaining===null||a.timeRemaining===void 0)return null;const s=Math.floor(a.timeRemaining/60),r=a.timeRemaining%60,o=`${s}:${r.toString().padStart(2,"0")}`;a.gameConfig.roundTimer>0&&a.timeRemaining/a.gameConfig.roundTimer*100;const t=a.timeRemaining<=30,d=a.timeRemaining<=10;return e.jsx("div",{className:`timer ${t?"urgent":""} ${d?"critical":""}`,children:e.jsxs("div",{className:"timer-display",children:[e.jsx("span",{className:"timer-icon",children:"‚è±Ô∏è"}),e.jsx("span",{className:"timer-text",children:o})]})})}function R({showFinal:a=!1,showStatsOnly:s=!1}){const{state:r}=C();if(s)return e.jsx("div",{className:"scoreboard stats-only",children:e.jsxs("div",{className:"game-stats",children:[e.jsx("h3",{children:"üìà Estat√≠sticas do Jogo"}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:r.gameHistory.length}),e.jsx("span",{className:"stat-label",children:"Rodadas Jogadas"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:r.players.length}),e.jsx("span",{className:"stat-label",children:"Jogadores"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:Math.max(...Object.values(r.scores))}),e.jsx("span",{className:"stat-label",children:"Maior Pontua√ß√£o"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:r.usedQuestionCards.length}),e.jsx("span",{className:"stat-label",children:"Perguntas Usadas"})]})]})]})});const o=[...r.players].sort((u,_)=>(r.scores[_.id]||0)-(r.scores[u.id]||0)),t=u=>{switch(u){case 0:return"ü•á";case 1:return"ü•à";case 2:return"ü•â";default:return`${u+1}¬∫`}},d=u=>{switch(u){case 0:return"first-place";case 1:return"second-place";case 2:return"third-place";default:return""}};return e.jsxs("div",{className:"scoreboard",children:[e.jsxs("div",{className:"scoreboard-header",children:[e.jsx("h2",{children:a?"üèÜ Placar Final":"üìä Placar Atual"}),e.jsx("p",{className:"winning-score",children:a?"Parab√©ns ao vencedor!":`Primeiro a fazer ${r.gameConfig.winningScore} pontos vence!`})]}),e.jsx("div",{className:"players-ranking",children:o.map((u,_)=>{const x=r.scores[u.id]||0,h=a&&_===0,c=u.id===r.currentFDP,E=u.id===r.currentPlayer?.id;return e.jsxs("div",{className:`player-rank ${d(_)} ${h?"winner":""} ${c?"current-fdp":""} ${E?"current-player":""}`,children:[e.jsx("div",{className:"rank-position",children:t(_)}),e.jsxs("div",{className:"player-info",children:[e.jsxs("div",{className:"player-avatar",children:[e.jsx("img",{src:u.avatar,alt:u.name}),c&&e.jsx("span",{className:"fdp-crown",children:"üëë"}),u.isBot&&e.jsx("span",{className:"bot-badge",children:"ü§ñ"})]}),e.jsxs("div",{className:"player-details",children:[e.jsxs("div",{className:"player-name",children:[u.name,E&&e.jsx("span",{className:"you-badge",children:"Voc√™"})]}),e.jsx("div",{className:"player-status",children:c?"FDP da vez":u.isBot?"Bot":"Jogador"})]})]}),e.jsxs("div",{className:"player-score",children:[e.jsx("div",{className:"score-number",children:x}),e.jsx("div",{className:"score-label",children:x===1?"ponto":"pontos"})]}),e.jsxs("div",{className:"score-progress",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${x/r.gameConfig.winningScore*100}%`}})}),e.jsxs("div",{className:"progress-text",children:[x,"/",r.gameConfig.winningScore]})]}),h&&e.jsxs("div",{className:"winner-effects",children:[e.jsx("span",{className:"trophy",children:"üèÜ"}),e.jsx("span",{className:"confetti",children:"üéâ"})]})]},u.id)})}),!a&&r.gameHistory.length>0&&e.jsxs("div",{className:"recent-rounds",children:[e.jsx("h3",{children:"üïê √öltimas Rodadas"}),e.jsx("div",{className:"rounds-list",children:r.gameHistory.slice(-3).reverse().map((u,_)=>{const x=r.players.find(h=>h.id===u.winner);return e.jsxs("div",{className:"round-item",children:[e.jsxs("div",{className:"round-winner",children:[e.jsx("img",{src:x?.avatar,alt:x?.name}),e.jsx("span",{children:x?.name})]}),e.jsxs("div",{className:"round-answer",children:['"',u.answers[u.winner],'"']})]},_)})})]})]})}function le(){const{state:a,actions:s,GAME_STATES:r}=C(),[o,t]=f.useState(null),[d,u]=f.useState(!1),[_,x]=f.useState(0),[h,c]=f.useState(""),E=a.currentPlayer?.id===a.currentFDP,i=a.submittedAnswers[a.currentPlayer?.id],g=a.players.filter(p=>p.id!==a.currentFDP).every(p=>a.submittedAnswers[p.id]);f.useEffect(()=>{console.log("GameBoard Debug:",{currentPlayer:a.currentPlayer?.name,currentFDP:a.players.find(p=>p.id===a.currentFDP)?.name,currentFDPId:a.currentFDP,isCurrentPlayerFDP:E,gameState:a.gameState,selectedAnswerCard:o,hasSubmittedAnswer:i,shouldShowButton:a.gameState===r.PLAYING&&!E,allPlayers:a.players.map(p=>({id:p.id,name:p.name}))}),a.gameState===r.PLAYING&&!a.currentFDP&&console.error("ERRO CR√çTICO: Jogo em andamento mas nenhum FDP definido!")},[a.currentPlayer,a.currentFDP,a.gameState,r.PLAYING,E,a.players,o,i]),f.useEffect(()=>{},[g,a.gameState,E]),f.useEffect(()=>{c(Z(a.gameState))},[a.gameState]),f.useEffect(()=>{if(a.gameState===r.ROUND_RESULTS){const p=a.gameConfig?.resultsDelaySec??3;x(p);const y=setInterval(()=>{x(T=>T>0?T-1:0)},1e3);return()=>clearInterval(y)}else x(0)},[a.gameState,r.ROUND_RESULTS,a.gameConfig?.resultsDelaySec]);const l=()=>{o&&!i&&(s.submitAnswer(o),t(null))},j=p=>{E&&a.gameState===r.ROUND_VOTING&&s.selectWinner(p)},N=(p,y=null)=>p?y?p.replace("______",`**${y}**`):p:"",m=()=>{window.confirm("Tem certeza que deseja sair do jogo?")&&s.resetGame()},v=a.gameState===r.ROUND_RESULTS?" emote-celebrate":a.error?" emote-shake":"";return e.jsxs("div",{className:"game-board",children:[e.jsxs("div",{className:"game-header",children:[e.jsxs("div",{className:"game-info",children:[e.jsx(P,{variant:"inline",className:"mascot-inline"+v,speech:h}),e.jsx("span",{className:"game-title",children:"Foi De Prop√≥sito"}),e.jsx("div",{style:{marginLeft:"20px"},children:e.jsx(oe,{})})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:"scoreboard-btn btn btn-secondary",onClick:()=>u(!0),children:[e.jsx("span",{role:"img","aria-label":"Placar",children:"üìä"})," Placar"]}),e.jsxs("button",{className:"leave-btn btn btn-ghost",onClick:m,children:[e.jsx("span",{role:"img","aria-label":"Sair",children:"üö™"})," Sair"]})]})]}),a.gameState!==r.GAME_OVER&&e.jsx("div",{className:"question-section",children:e.jsxs("div",{className:"question-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"card-type",children:"Carta de Pergunta"}),e.jsx("div",{className:"fdp-indicator",children:(()=>{const p=a.players.find(y=>y.id===a.currentFDP);return p?e.jsxs(e.Fragment,{children:["üëë FDP: ",p.name,E&&e.jsx("span",{className:"you-badge",children:" (VOC√ä!)"})]}):e.jsx("span",{style:{color:"red"},children:"‚ö†Ô∏è ERRO: Nenhum FDP definido!"})})()})]}),e.jsx("div",{className:"question-text",children:N(a.currentQuestionCard)})]})}),e.jsxs("div",{className:"game-main",children:[a.gameState===r.PLAYING&&!E&&e.jsx(se,{selectedCard:o,onCardSelect:t}),a.gameState===r.PLAYING&&E&&e.jsx("div",{className:"fdp-waiting-section",children:e.jsxs("div",{className:"fdp-instructions",children:[e.jsx("h2",{children:"üëë Voc√™ √© o FDP desta rodada!"}),e.jsx("p",{children:"Aguarde os outros jogadores enviarem suas respostas..."}),e.jsxs("div",{className:"fdp-status",children:[e.jsxs("div",{className:"responses-counter",children:[e.jsx("span",{children:Object.keys(a.submittedAnswers).length}),e.jsxs("span",{children:["/",a.players.filter(p=>p.id!==a.currentFDP).length]}),e.jsx("span",{children:" respostas recebidas"})]}),Object.keys(a.submittedAnswers).length<a.players.filter(p=>p.id!==a.currentFDP).length&&e.jsxs("div",{className:"waiting-animation",children:[e.jsxs("span",{className:"waiting-dots",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsx("p",{children:"Aguardando respostas..."})]})]})]})}),a.gameState===r.PLAYING&&!E&&e.jsx("button",{className:`btn btn-primary submit-answer-btn ${o?"has-selection":""} ${i?"submitted":""}`,onClick:l,disabled:!o||i,style:{position:"fixed",bottom:"30px",left:"50%",transform:"translateX(-50%)",zIndex:"9997",backgroundColor:o?"#28a745":"#6c757d",border:"none",padding:"15px 30px",fontSize:"1.2rem",fontWeight:"700",borderRadius:"15px",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",color:"white"},children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚úì"})," Resposta enviada!"]}):o?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"üì§"})," Enviar resposta"]}):"Selecione uma carta"}),a.gameState===r.ROUND_VOTING&&e.jsx(re,{question:a.currentQuestionCard,answers:a.submittedAnswers,onSelectWinner:j,canVote:E,currentPlayer:a.currentPlayer,order:a.answerOrder}),a.gameState===r.ROUND_RESULTS&&e.jsxs("div",{className:"round-results-section",children:[e.jsxs("div",{className:"celebration-header",children:[e.jsx("div",{className:"confetti-animation"}),e.jsx("div",{className:"trophy-bounce",children:e.jsx("span",{className:"celebration-trophy",children:"üèÜ"})}),e.jsx("h1",{className:"celebration-title",children:"Rodada Finalizada!"}),e.jsx("div",{className:"celebration-subtitle",children:"E o vencedor √©..."})]}),e.jsxs("div",{className:"winner-spotlight",children:[e.jsxs("div",{className:"winner-avatar-container",children:[e.jsxs("div",{className:"winner-avatar",children:[e.jsx("div",{className:"avatar-initials",children:a.roundWinner&&a.players.find(p=>p.id===a.roundWinner)?.name?.slice(0,2).toUpperCase()||"??"}),e.jsx("div",{className:"winner-crown",children:"üëë"})]}),e.jsx("div",{className:"winner-glow"})]}),e.jsxs("div",{className:"winner-info",children:[e.jsx("h2",{className:"winner-name",children:a.roundWinner&&a.players.find(p=>p.id===a.roundWinner)?.name||"An√¥nimo"}),e.jsx("div",{className:"winner-title",children:"üé≠ FDP da Rodada"})]})]}),e.jsxs("div",{className:"winning-answer-showcase",children:[e.jsxs("div",{className:"question-display",children:[e.jsx("h3",{children:"üéØ Pergunta da Rodada:"}),e.jsx("div",{className:"question-card-display",children:a.currentQuestionCard})]}),e.jsxs("div",{className:"answer-spotlight",children:[e.jsx("h3",{children:"‚ú® Resposta Vencedora:"}),e.jsxs("div",{className:"winning-answer-card",children:[e.jsxs("div",{className:"answer-content",children:['"',a.submittedAnswers[a.roundWinner]||"Resposta n√£o encontrada",'"']}),e.jsxs("div",{className:"answer-sparkles",children:[e.jsx("span",{children:"‚ú®"}),e.jsx("span",{children:"üéâ"}),e.jsx("span",{children:"‚≠ê"})]})]})]}),e.jsxs("div",{className:"complete-sentence-display",children:[e.jsx("h4",{children:"üìù Frase Completa:"}),e.jsx("div",{className:"complete-sentence",children:N(a.currentQuestionCard,a.submittedAnswers[a.roundWinner])})]})]}),e.jsx("div",{className:"next-round-countdown",children:e.jsxs("div",{className:"countdown-container",children:[e.jsx("div",{className:"countdown-circle",children:e.jsx("div",{className:"countdown-number",children:_})}),e.jsxs("div",{className:"countdown-text",children:[e.jsx("span",{className:"next-round-label",children:"Pr√≥xima rodada em"}),e.jsx("span",{className:"countdown-subtitle",children:"Prepare-se! üöÄ"})]})]})}),e.jsxs("div",{className:"mini-scoreboard",children:[e.jsx("h3",{children:"üèÜ Placar Atual"}),e.jsx("div",{className:"mini-scores",children:a.players.sort((p,y)=>(a.scores[y.id]||0)-(a.scores[p.id]||0)).slice(0,3).map((p,y)=>e.jsxs("div",{className:`mini-score-item rank-${y+1}`,children:[e.jsx("span",{className:"rank-emoji",children:y===0?"ü•á":y===1?"ü•à":"ü•â"}),e.jsx("span",{className:"player-name",children:p.name}),e.jsx("span",{className:"player-score",children:a.scores[p.id]||0})]},p.id))})]})]}),a.gameState===r.GAME_OVER&&e.jsxs("div",{className:"game-over-section expanded-game-over",children:[e.jsxs("div",{className:"expanded-final-winner",children:[e.jsxs("div",{className:"expanded-winner-podium",children:[e.jsx("span",{className:"trophy",role:"img","aria-label":"Trof√©u",children:"üèÜ"}),e.jsx("div",{className:"expanded-final-winner-avatar",children:e.jsx("span",{className:"winner-initials",children:a.players.find(p=>p.id===a.roundWinner)?.name?.slice(0,2).toUpperCase()})})]}),e.jsxs("div",{className:"winner-joke",children:[e.jsx("strong",{children:a.players.find(p=>p.id===a.roundWinner)?.name}),e.jsx("br",{}),"√â o grande FDP vencedor!"]})]}),e.jsxs("div",{className:"expanded-content-grid",children:[e.jsx("div",{className:"expanded-left-column",children:e.jsx("div",{className:"expanded-scoreboard-wrapper",children:e.jsx(R,{showFinal:!0})})}),e.jsx("div",{className:"expanded-right-column",children:e.jsx("div",{className:"expanded-stats-wrapper",children:e.jsx(R,{showFinal:!0,showStatsOnly:!0})})})]}),e.jsx("div",{className:"expanded-game-over-actions",children:e.jsx("button",{className:"btn btn-primary",onClick:m,children:"Voltar ao Lobby"})})]})]}),d&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("button",{className:"close-modal-btn",onClick:()=>u(!1),children:"√ó"}),e.jsx(R,{})]})})]})}export{ie as G,te as L,ce as W,le as a,e as j,f as r,C as u};
